---
budget:
  income:
    monthIncome: 406
    bonusIncome: 60.7
    carriedIncome: 0
    additionalIncome: 83
  expense:
    fixedExpense: 50
    debt: 200
    savings: 26
    livingExpense:
      cash: 20
      card: 70
      swPay: 50
datetime:
  startDay: 2024-08-01
  endDay: 2024-08-31
  month: 8
spent:
  - item: 쿠키,오뜨,초코하임,커피,몽쉘
    cost: 12690
    shop: 하모니마트
    date: 2024-08-09
    class: 생활비
    payment: NHCard
    amount: 1
    unit: 세트
    shopList: 하모니마트
  - item: 우유식빵세일
    cost: 990
    shop: 홈플러스 용인
    class: 생활비
    payment: NHCard
    date: 2024-08-09
    amount: 1
    unit: 세트
    shopList: 홈플러스
  - item: 대림 사각어묵1+1
    cost: 2790
    shop: 홈플러스 용인
    class: 생활비
    payment: NHCard
    date: 2024-08-09
    amount: 480
    unit: g
    shopList: 홈플러스
  - item: 스윙칩
    cost: 1000
    shop: 홈플러스 용인
    class: 생활비
    payment: NHCard
    date: 2024-08-09
    amount: 1
    unit: 개
    shopList: 홈플러스
  - item: 슈레드피자치즈
    cost: 5490
    shop: 홈플러스 용인
    class: 생활비
    payment: NHCard
    date: 2024-08-09
    amount: 1
    unit: 세트
    shopList: 홈플러스
  - cost: 3990
    item: 하루요거트사과
    shop: 홈플러스 용인
    class: 생활비
    payment: NHCard
    date: 2024-08-09
    amount: 8
    unit: 개
  - item: 짜요짜요딸기
    payment: NHCard
    cost: 2490
    shop: 홈플러스 용인
    class: 생활비
    date: 2024-08-09
    amount: 1
    unit: 개
    shopList: 홈플러스
  - item: 부드러운 복숭아
    cost: 7900
    shop: 홈플러스 용인
    class: 생활비
    payment: NHCard
    date: 2024-08-09
    amount: 5
    unit: 개
    shopList: 홈플러스
  - item: 아삭복숭아
    cost: 7900
    shop: 홈플러스 용인
    class: 생활비
    payment: NHCard
    date: 2024-08-09
    amount: 5
    unit: 개
    shopList: 홈플러스
  - item: 니트릴장갑,마늘틀,현미통
    cost: 5000
    shop: 다이소 수원인계
    class: 생활비
    payment: NHCard
    date: 2024-08-09
    amount: 1
    unit: 세트
    shopList: 기타
  - item: 엔진오일교환
    cost: 20000
    shop: 공임나라 수원원천점
    class: 고정지출
    date: 2024-08-09
    payment: NHCard
    amount: 1
  - item: 풍년 몽꽁떼 브리에 무쇠법랑냄비
    cost: 40000
    shop: 네이버 스토어
    class: 생활비
    id: 일반항목
    payment: Cash
    date: 2024-08-09
    amount: 1
  - item: 조지아 캔커피
    cost: 900
    shop: 하모니마트
    class: 생활비
    payment: SuwonPay
    date: 2024-08-09
    amount: 1
    id: 물가정보관리항목
    infoItem: 캔커피
    unit: 개
  - item: 빙그레 아카페라240
    cost: 1500
    shop: 하모니마트
    class: 생활비
    payment: SuwonPay
    date: 2024-08-09
    amount: 1
    infoItem: 캔커피
    id: 물가정보관리항목
    unit: 개
  - item: 물티슈 케이스
    cost: 2200
    shop: 다이소 수원인계점
    class: 생활비
    payment: NHCard
    date: 2024-08-08
    amount: 1
    unit: 개
    id: 일반항목
  - item: 주방 저울
    cost: 22366
    shop: 네이버 스토어
    class: 생활비
    payment: NHCard
    date: 2024-08-08
    amount: 1
    id: 일반항목
    unit: 개
  - item: 조지아 캔커피
    cost: 1800
    shop: 하모니마트
    class: 생활비
    payment: SuwonPay
    date: 2024-08-07
    amount: 2
    id: 물가정보관리항목
    infoItem: 캔커피
    unit: 개
  - item: 호야 눈꽃망고빙수
    cost: 14900
    shop: 호야빙수
    remark: 배달특급
    class: 생활비
    payment: SuwonPay
    date: 2024-08-07
    amount: 1
    id: 일반항목
  - item: 고구마
    cost: 12000
    shop: 쿠팡
    remark: 이체
    class: 생활비
    payment: Cash
    date: 2024-08-06
    amount: 2000
    id: 물가정보관리항목
    infoItem: 고구마
    unit: g
  - item: 비비고 사골육수
    cost: 5490
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 2000
    id: 물가정보관리항목
    infoItem: 사골육수
    unit: g
  - item: 오이
    cost: 4490
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 3
    id: 물가정보관리항목
    infoItem: 오이
    unit: 개
  - item: 청양고추
    cost: 3490
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 150
    id: 물가정보관리항목
    infoItem: 청양고추
    unit: g
  - item: 비비고 떡갈비
    cost: 9990
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 640
    id: 물가정보관리항목
    infoItem: 떡갈비
    unit: g
  - item: 한우 사태 국거리
    cost: 13720
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 400
    id: 물가정보관리항목
    infoItem: 소고기 국거리(국내산)
    unit: g
    favicon: 🐂
  - item: 두부
    cost: 1290
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 300
    id: 물가정보관리항목
    infoItem: 두부
    unit: g
  - item: 애호박
    cost: 1470
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 1
    id: 물가정보관리항목
    infoItem: 애호박
    unit: 개
  - item: 밀양 깻잎
    cost: 2890
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 1
    id: 물가정보관리항목
    infoItem: 깻잎
    unit: 개
  - item: 적상추
    cost: 4990
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 1
    id: 물가정보관리항목
    infoItem: 상추
    unit: 개
  - item: 깐 대파
    cost: 3690
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 1
    id: 물가정보관리항목
    infoItem: 대파
    unit: 개
  - item: 양파
    cost: 2790
    shop: 홈플러스
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 800
    id: 물가정보관리항목
    infoItem: 양파
    unit: g
  - item: 호주산 소고기 윗등심
    cost: 21990
    shop: 홈플러스
    remark: 로스
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 800
    id: 물가정보관리항목
    infoItem: 소고기 윗등심(수입)
    unit: g
  - item: 이케아 칼&포크&도마
    cost: 50477
    shop: 네이버스토어
    remark: "-"
    class: 생활비
    payment: NHCard
    date: 2024-08-06
    amount: 1
    id: 일반항목
  - item: 커피 우유
    cost: 2000
    shop: Gs25우만
    remark: "-"
    class: 생활비
    payment: SuwonPay
    date: 2024-08-06
    amount: 1
    id: 일반항목
  - item: 소고기 차돌양지
    cost: 80333
    shop: 코스트코
    remark: "-"
    class: 생활비
    payment: Cash
    date: 2024-08-13
    id: 물가정보관리항목
    amount: 6700
    infoItem: 소고기 차돌양지(수입)
    unit: g
  - item: 삼각김밥
    cost: 1600
    shop: 세븐일레븐화성
    date: 2024.8.5.
    remark: "-"
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 유류비
    cost: 100000
    shop: 신화성주유소
    date: 2024.8.4.
    remark: "-"
    class: 고정지출
    payment: NHCard
    amount: 61
    id: 일반항목
  - item: 냉면
    cost: 31000
    shop: 냉면장인 임사부 매탄점
    date: 2024.8.3.
    remark: 배달특급
    class: 생활비
    payment: SuwonPay
    amount: 1
    id: 일반항목
  - item: 캔커피
    cost: 1980
    shop: 하모니마트
    class: 생활비
    date: 2024.8.3.
    remark: "-"
    payment: SuwonPay
    amount: 2
    id: 물가정보관리항목
    infoItem: 캔커피
    unit: 개
  - class: 생활비
    cost: 4900
    item: 빵
    shop: 빠바
    date: 2024.8.3.
    remark: "-"
    payment: SuwonPay
    amount: 1
    id: 일반항목
  - class: 생활비
    cost: 6310
    item: 바닐라라떼,슈크림빵
    shop: 메가커피우만점
    date: 2024.8.3.
    remark: "-"
    payment: NHCard
    amount: 1
    id: 일반항목
  - class: 생활비
    remark: "-"
    cost: 5000
    item: 도시락
    shop: 씨유화성
    date: 2024.8.2
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 인주
    cost: 1000
    shop: 다이소 아주대점
    date: 2024.8.1.
    remark: "-"
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 다지기, 엔진오일
    cost: 13033
    shop: 네이버페이
    date: 2024.7.23.
    remark: 할부(7,8,9,10)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 블루라벨 용띠
    cost: 97000
    shop: 이마트진접점
    date: 2024.7.20.
    remark: 할부(7,8,9,10)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 아파트세
    cost: 48500
    shop: 수원시
    date: 2024.7.16.
    remark: 할부(7,8,9)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 지방세
    cost: 50180
    shop: 경기도
    date: 20204.7.4.
    remark: 할부(7,8,9,10)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 정수기
    cost: 92000
    shop: 삼성전자몰
    date: 2024.5.14.
    remark: 할부(5,6,7,8,9,10,11,12,1,2)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - date: 2024.4.20
    item: 유류비
    cost: 18219
    shop: 서진주유소향남
    remark: 할부(4,5,6,7,8)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 약
    cost: 27147
    shop: 우리약국
    date: 2024.4.26.
    remark: 할부(4 5,6,7,8)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - item: 유류비
    cost: 18219
    shop: 향남주유소
    date: 2024.04.14.
    remark: 할부(4,5,6,7,8)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
  - shop: 광교아웃렛 할부
    cost: 23948
    item: 옷
    date: 2024.4.10.
    remark: 할부(4,5,6,7,8월)
    class: 생활비
    payment: NHCard
    amount: 1
    id: 일반항목
---
#예산관리 

## 📈 예산
---

```dataviewjs
// 1. 현재노트 로드
const curr=dv.current();

// 2. 프론트매터 로드
const currProps=curr.file.frontmatter;

// 3. 버짓로드
const currBudget=currProps.budget;

const monthIncome=currBudget.income.monthIncome;
const bonusIncome=currBudget.income.bonusIncome;
const carriedIncome=currBudget.income.carriedIncome;

const additionalIncome=currBudget.income.additionalIncome;

const sumIncome=monthIncome+bonusIncome+additionalIncome;

dv.span(`
#### 😄수입: ${sumIncome} 만원
	- 당월급여: ${monthIncome} 만원
	- 성과급여: ${bonusIncome} 만원
	- 추가수입: ${additionalIncome} 만원
	- 이월수입: ${carriedIncome} 만원
`);
const debt=currBudget.expense.debt;

const fixedExpense=currBudget.expense.fixedExpense;

const savings=currBudget.expense.savings;

const fixedExpenseSum=debt+fixedExpense+savings;

dv.span(`
#### 🏦고정지출: ${fixedExpenseSum} 만원
	- 월원리금: ${debt} 만원
	- 고정지출: ${fixedExpense} 만원
	- 보험저축: ${savings} 만원
`);

const cash =currBudget.expense.livingExpense.cash;

const swPay=currBudget.expense.livingExpense.swPay;

const card=currBudget.expense.livingExpense.card;

const pureLiving=card+cash+swPay;

const extraIncome=Math.round((sumIncome-fixedExpenseSum-pureLiving)*10)/10;

// 테이블 랜더링
dv.span(`
#### 🛒순생활비: ${pureLiving}+@(${extraIncome}) 만원
	- 신용카드: ${card} 만원
	- 수원페이: ${swPay} 만원
	- 현금사용: ${cash} 만원
	- 여유금액: ${extraIncome} 만원\n
`);
```


## 🛍 지출
---
```dataviewjs
const FIXEDEXPENSE="고정지출";
// 1. 현재노트 로드
const curr=dv.current();

// 2. 프론트매터 로드
const currProps=curr.file.frontmatter;

// 3. 버짓로드
const currBudget=currProps.budget;

const swPy =currBudget.expense.livingExpense.swPay;

const card=currBudget.expense.livingExpense.card;

const fixed=currBudget.expense.fixedExpense;

const cash=currBudget.expense.livingExpense.cash;

// dv.span(cash);

const pureLiving=swPy+card+cash;
const livingBudget=(pureLiving+fixed)*10000;
const currSpent=curr.spent;
const date=currSpent.date;

const fixedExpense=currSpent.filter(
(item)=>(
item.class==FIXEDEXPENSE
)
);

let fixedExpenseTotal=0;

fixedExpense.forEach(
(item)=>{
fixedExpenseTotal+=item.cost
}
);

const fixedExpenseCard=fixedExpense.filter(
(item)=>(item.payment=="NHCard")
);

let fixedExpenseCardTotal=0;

fixedExpenseCard.forEach(
(item)=>{
fixedExpenseCardTotal+=item.cost;
}
);

const fixedExpenseCashTotal=fixedExpenseTotal-fixedExpenseCardTotal;

//dv.span(fixedExpenseCashTotal);

const cardPay=currSpent.filter(
	(item)=>(item.payment=="NHCard")
);
let cardTotal=0;
cardPay.forEach(
	item=>{cardTotal=cardTotal+item.cost}
);
cardTotal-=fixedExpenseCardTotal;

const cardBudget=card*10000;
const cardRest=cardBudget-cardTotal;
const swPayBudget=swPy*10000;
const fixedBudget=fixed*10000;
const cashBudget=cash*10000;

let swPayTotal=0;
const swPay=currSpent.filter(
	item=>item.payment=="SuwonPay"
);
swPay.forEach(
	item=>{
	swPayTotal=swPayTotal+item.cost
	}
);
const swPayRest=swPayBudget-swPayTotal;

const cashPay=currSpent.filter(
item=>item.payment=="Cash"
);

let cashPayTotal=0;
cashPay.forEach(
(item)=>(
cashPayTotal+=item.cost
)
);

const cashPayRest=cashBudget-cashPayTotal;

const livingSum=cardTotal+swPayTotal+cashPayTotal;

// 날짜 계산
const monthData=currProps.datetime.month;
const today=new Date();
const month=today.getMonth();
const monthIdx=month%12;
const day=today.getDate();
const monthDay=[31,28,31,30,31,30,31,31,30,31,30,31];
const restDay=(monthData==monthIdx+1)?(monthDay[monthIdx]-day+1):monthDay[monthData-1];

// 일일 평균 계산
const dailyCardSpent=(cardRest-cardRest%restDay)/restDay;
const dailySwSpent=(swPayRest-swPayRest%restDay)/restDay;
const dailyCashSpent=(cashPayRest-cashPayRest%restDay)/restDay;
const dailySpent=dailyCardSpent+dailySwSpent+dailyCashSpent;
const fixedRest=fixedBudget-fixedExpenseTotal;
const livingRest=livingBudget-livingSum;

// 자리수 맞추기
const maxNo=6;
const maxNo2=5;
const maxNo3=7;
const spaceKey="0";
const cardBudgetCV=cardBudget.toString().padStart(maxNo,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const cashBudgetCV=cashBudget.toString().padStart(maxNo,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const cardTotalCV=cardTotal.toString().padStart(maxNo,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const swPayTotalCV=swPayTotal.toString().padStart(maxNo,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const cashPayTotalCV=cashPayTotal.toString().padStart(maxNo,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const cardRestCV=cardRest.toString().padStart(maxNo,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const swPayRestCV=swPayRest.toString().padStart(maxNo,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const cashPayRestCV=cashPayRest.toString().padStart(maxNo,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const dailyCardSpentCV=dailyCardSpent.toString().padStart(maxNo2,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const dailySwSpentCV=dailySwSpent.toString().padStart(maxNo2,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const dailyCashSpentCV=dailyCashSpent.toString().padStart(maxNo2,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const livingBudgetCV=livingBudget.toString().padStart(maxNo3,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const livingSumCV=livingSum.toString().padStart(maxNo3,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

const livingRestCV=livingRest.toString().padStart(maxNo3,spaceKey).replace(/\B(?=(\d{3})+(?!\d))/g,",");

// 결과물 렌더링
dv.span(`
#### 📊현황 : 카드값 | 수원페이 | 현금
	-책정: ${cardBudgetCV} | ${swPayBudget.toLocaleString()} | ${cashBudgetCV}
	-누계: ${cardTotalCV} | ${swPayTotalCV} | ${cashPayTotalCV}
	-잔여: ${cardRestCV} | ${swPayRestCV} | ${cashPayRestCV}
`)

dv.span(`
#### 🏡현황 : 고정지출 | 합계
	-책정: ${fixedBudget.toLocaleString()} | ${livingBudgetCV}
	-누계: ${fixedExpenseTotal.toLocaleString()} | ${livingSumCV}
	-잔여: ${fixedRest.toLocaleString()} | ${livingRestCV}
`);

dv.header(4,"💼남은 일일 생활비");
dv.span(`
	- ${dailyCardSpentCV} 원/일(신용카드)×${restDay.toLocaleString()}일
	- ${dailySwSpentCV} 원/일(수원페이)×${restDay}일
	- ${dailyCashSpentCV} 원/일(현금결재)×${restDay}일
	- ${dailySpent.toLocaleString()} 원/일(순생활비)×${restDay}일
`);
```

#### 🧾세부 지출내역
```dataviewjs
// 1. 현재노트 로드
const curr=dv.current();

// 2. 프론트매터 로드
const currProps=curr.file.frontmatter;

// 3. 소비 로드
const currSpent=currProps.spent;

currSpent.map(
	(spent)=>{
	const remarkCV=spent.remark==undefined?"-":spent.remark;

const shopC=spent.shopList=="기타"?`${spent.shop}`:spent.shopList;

const shopCV=spent.shopList==undefined?spent.shop:shopC;

	dv.span(`
	No: ${currSpent.length-currSpent.indexOf(spent)}
	날짜: ${spent.date}
	사용처: ${shopCV}
	항목: ${spent.item}
	가격: ${spent.cost.toLocaleString()}
	예산과목: ${spent.class}
	결재수단: ${spent.payment}
	비고: ${remarkCV} \n
	`)}
);
```
---
##  📝 메모
---

	- 여유금액 사용 내역 143.7
		- 33 수원페이 충전(조리원 대비)
	- 마통한도(잔액) : 297(-503)
	- 7월 카드값 : 183.5
	- 여유자금 : 113.5
	- 앞으로 나갈 지출 : 749.5
		- 수술비 200
		- 산후조리원 342
		- 산후도우미 107.3
		- 신생아용품 추가구매 : 150
			- 유모차 50
			- 아기띠 30
			- 욕조 
			- 이불 
			- 화장품 
	- 앞으로 들어올 수입 : 550
		- 보너스 450
		- 축하금 100
	- 언젠가는 살 것
		- 여보 결혼기념 명품백 500
